@import "colors/functions";
@import "colors/mixins";
@import "@material/button/mixins";
@import "@material/elevation/mixins";
@import "@material/ripple/mixins";

$textButtonMapping: (
  ink: high,
);

$filledButtonMapping: (
  ink: high,
);

$outlinedButtonMapping: (
  ink: high,
  outline: high,
);

$elevatedButtonMapping: (
  ink: high,
);

@mixin textButton($colorSet, $colorMap: $textButtonMapping) {
  @include ifColorMapHasKey($colorMap, ink) {
    @include mdc-button-ink-color(getColor($colorSet, $colorMap, ink));
    @include mdc-states(getColor($colorSet, $colorMap, ink));
  }

  @include ifColorMapHasKey($colorMap, icon) {
    @include mdc-button-icon-color(getColor($colorSet, $colorMap, icon));
  }
}

@mixin statefulTextButton($colorSet, $colorMap: $textButtonMapping) {
  &::hover,
  &::focus,
  &::active {
    @include textButton($colorSet, $colorMap);
  }
}

@mixin filledButton($colorSet, $colorMap: $filledButtonMapping) {
  @include mdc-button-container-fill-color(ColorSet_getContainer($colorSet));

  @include ifColorMapHasKey($colorMap, ink) {
    @include mdc-button-ink-color(getColor($colorSet, $colorMap, ink));
    @include mdc-states(getColor($colorSet, $colorMap, ink));
  }

  @include ifColorMapHasKey($colorMap, icon) {
    @include mdc-button-icon-color(getColor($colorSet, $colorMap, icon));
  }
}

@mixin elevatedButton($colorSet, $colorMap: $elevatedButtonMapping) {
  @include mdc-button-container-fill-color(ColorSet_getContainer($colorSet));
  @include mdc-elevation(2);
  
  @include ifColorMapHasKey($colorMap, ink) {
    @include mdc-button-ink-color(getColor($colorSet, $map, ink));
    @include mdc-states(getColor($colorSet, $map, ink));
  }
  
  @include ifColorMapHasKey($colorMap, icon) {
    @include mdc-button-icon-color(getColor($colorSet, $map, icon));
  }
}

@mixin outlinedButton($colorSet, $colorMap: ()) {
  $map: map-merge($outlinedButtonMapping, $colorMap);
  @include mdc-button-container-fill-color(ColorSet_getContainer($colorSet));
  @include mdc-button-ink-color(getColor($colorSet, $map, ink));
  @include mdc-button-icon-color(getColor($colorSet, $map, icon));
  @include mdc-button-outline-color(getColor($colorSet, $map, outline));
  @include mdc-states(getColor($colorSet, $map, ink));
}

@mixin statefulOutlinedButton($colorSet, $colorMap: ()) {
  $map: map-merge($outlinedButtonMapping, $colorMap);
  &::hover,
  &::active,
  &::focus {
    @include mdc-button-container-fill-color(ColorSet_getContainer($colorSet));
    @include mdc-button-ink-color(getColor($colorSet, $map, ink));
    @include mdc-button-icon-color(getColor($colorSet, $map, icon));
    @include mdc-button-outline-color(getColor($colorSet, $map, outline));
    @include mdc-states(getColor($colorSet, $map, ink));
  }
}
